{"/home/travis/build/npmtest/node-npmtest-rtc/test.js":"/* istanbul instrument in package npmtest_rtc */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - post-init\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - post-init\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-rtc/lib.npmtest_rtc.js":"/* istanbul instrument in package npmtest_rtc */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_rtc = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_rtc = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-rtc/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-rtc && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_rtc */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_rtc\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // post-init\n    // run browser js-env code - post-init\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_rtc.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_rtc.rollup.js'] =\n            local.assetsDict['/assets.npmtest_rtc.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_rtc.__dirname + '/lib.npmtest_rtc.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-rtc/node_modules/rtc/index.js":"var defaults = require('cog/defaults');\nvar extend = require('cog/extend');\nvar attach = require('rtc-attach');\nvar capture = require('rtc-capture');\nvar quickconnect = require('rtc-quickconnect');\nvar chain = require('whisk/chain');\nvar append = require('fdom/append');\nvar tweak = require('fdom/classtweak');\nvar qsa = require('fdom/qsa');\nvar kgo = require('kgo');\n\nmodule.exports = function(config) {\n  var conference;\n\n  // extend our configuration with the defaults\n  config = defaults({}, config, require('./defaultconfig.js'));\n\n  // remap our options based on top level settings\n  config.options = extend({\n    room: config.room,\n    ice: config.ice,\n    plugins: config.plugins,\n    expectedLocalStreams: config.constraints ? 1 : 0\n  }, config.options);\n\n  // create our conference instance\n  conference = quickconnect(config.signaller, config.options);\n\n  conference\n  .on('call:ended', removeRemoteVideos)\n  .on('stream:added', remoteVideo(conference, config));\n\n  Object.keys(config.channels || {}).forEach(function(name) {\n    var channelConfig = config.channels[name];\n\n    conference.createDataChannel(name, channelConfig === true ? null : channelConfig);\n  });\n\n  // if we have constraints, then capture video\n  if (config.constraints) {\n    localVideo(conference, config);\n  }\n\n  return conference;\n};\n\nfunction flagOwnership(peerId) {\n  return function(el) {\n    el.dataset.peer = peerId;\n  };\n}\n\nfunction localVideo(qc, config) {\n  // use kgo to help with flow control\n  kgo(config)\n  ('capture', [ 'constraints', 'options' ], capture)\n  ('attach', [ 'capture', 'options' ], attach.local)\n  ('render-local', [ 'attach' ], chain([\n    tweak('+rtc'),\n    tweak('+localvideo'),\n    append.to((config || {}).localContainer || '#l-video')\n  ]))\n  ('start-conference', [ 'capture' ], qc.addStream)\n  .on('error', reportError(qc, config));\n}\n\nfunction remoteVideo(qc, config) {\n  return function(id, stream) {\n    kgo(extend({ stream: stream }, config))\n    ('attach', [ 'stream', 'options' ], attach)\n    ('render-remote', [ 'attach' ], chain([\n      tweak('+rtc'),\n      tweak('+remotevideo'),\n      flagOwnership(id),\n      append.to((config || {}).remoteContainer || '#r-video')\n    ]))\n    .on('error', reportError(qc, config));\n  };\n}\n\nfunction removeRemoteVideos(id) {\n  qsa('[data-peer=\"' + id + '\"]').forEach(function(el) {\n    el.parentNode.removeChild(el);\n  });\n}\n\nfunction reportError(qc, config) {\n  return function(err) {\n    console.error(err);\n  };\n}\n","/home/travis/build/npmtest/node-npmtest-rtc/node_modules/rtc-attach/index.js":"var plugin = require('rtc-core/plugin');\nvar extend = require('cog/extend');\n\n/**\n  # rtc-attach\n\n  Roughly equivalent to the\n  [`attachMediaStream`](https://www.npmjs.org/package/attachmediastream)\n  package but with support for rtc.io plugins.  Also uses an error first\n  async API to allow plugins time to initialize.\n\n  ## Example Usage\n\n  <<< examples/simple.js\n\n  ## Example using Plugins\n\n  <<< examples/plugins.js\n\n  ## Reference\n\n  ### `attach(stream, opts?, callback)`\n\n  Attach `stream` to a HTML element that will render the content. The provided\n  `callback` follows the format of `fn(err, element)`.  While the async nature\n  of this package may seem odd, because a plugin may need time to initialize\n  this caters for this case in addition to standard usage in the browser.\n\n  - `autoplay` (default: `true`) - by default after the stream has been\n    attached to the element it will be played.  This is done by calling\n    the `play()` function on the element rather than relying on `autoplay`\n    attribute functionality.\n\n  - `el` (default: `null`) - if you with to supply an element to be used\n    instead of creating a new element to receive the stream specify it here.\n\n  - `muted` (default: `false`) - whether the created element should be muted\n    or not.  For local streams this should almost always, be true so consider\n    using the `attach.local` helper function for simple cases.\n\n  - `plugins` (default: `[]`) - specify one or more plugins that can be used\n    to render the media stream appropriate to the current platform in the\n    event that WebRTC and/or media capture is supported via a browser plugin.\n\n**/\nvar attach = module.exports = function(stream, opts, callback) {\n  var URL = typeof window != 'undefined' && window.URL;\n  var pinst;\n\n  if (typeof opts == 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  function applyModifications(el, o) {\n    if ((o || {}).muted) {\n      el.muted = true;\n      el.setAttribute('muted', '');\n    }\n\n    if ((o || {}).mirror) {\n      el.setAttribute('data-mirrored', true);\n    }\n\n    return el;\n  }\n\n  function attachToElement(s, o) {\n    var autoplay = (o || {}).autoplay;\n    var elType = 'audio';\n    var el = (o || {}).el || (o || {}).target;\n\n    // check the stream is valid\n    var isValid = s && typeof s.getVideoTracks == 'function';\n\n    // determine the element type\n    if (isValid && s.getVideoTracks().length > 0) {\n      elType = 'video';\n    }\n\n    // if we have been passed an \"unplayable\" target create a new element\n    if (el && typeof el.play != 'function') {\n      el = null;\n    }\n\n    // prepare the element\n    el = el || document.createElement(elType);\n\n    // attach the stream\n    if (URL && URL.createObjectURL) {\n      el.src = URL.createObjectURL(stream);\n    }\n    else if (el.srcObject) {\n      el.srcObject = stream;\n    }\n    else if (el.mozSrcObject) {\n      el.mozSrcObject = stream;\n    }\n\n    if (autoplay === undefined || autoplay) {\n      el.setAttribute('autoplay', '');\n      el.play();\n    }\n\n    return applyModifications(el, o);\n  }\n\n  // see if we are using a plugin\n  pinst = plugin((opts || {}).plugins);\n  if (pinst) {\n    return pinst.init(opts, function(err) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (typeof pinst.attach != 'function') {\n        return callback(new Error('plugin must support the attach function'));\n      }\n\n      callback(null, applyModifications(pinst.attach(stream, opts), opts));\n    });\n  }\n\n  callback(null, attachToElement(stream, opts));\n};\n\n/**\n  ### `attach.local(stream, opts?, callback)`\n\n  Attach a local stream with options appropriate for local streams:\n\n  - `muted`: `true`\n\n**/\nattach.local = function(stream, opts, callback) {\n  if (typeof opts == 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  attach(stream, extend({ muted: true, mirror: true }, opts), callback);\n};\n","/home/travis/build/npmtest/node-npmtest-rtc/node_modules/rtc-core/plugin.js":"var detect = require('./detect');\nvar requiredFunctions = [\n  'init'\n];\n\nfunction isSupported(plugin) {\n  return plugin && typeof plugin.supported == 'function' && plugin.supported(detect);\n}\n\nfunction isValid(plugin) {\n  var supportedFunctions = requiredFunctions.filter(function(fn) {\n    return typeof plugin[fn] == 'function';\n  });\n\n  return supportedFunctions.length === requiredFunctions.length;\n}\n\nmodule.exports = function(plugins) {\n  return [].concat(plugins || []).filter(isSupported).filter(isValid)[0];\n}\n","/home/travis/build/npmtest/node-npmtest-rtc/node_modules/rtc-core/detect.js":"/* jshint node: true */\n/* global window: false */\n/* global navigator: false */\n\n'use strict';\n\nvar browser = require('detect-browser');\n\n/**\n  ### `rtc-core/detect`\n\n  A browser detection helper for accessing prefix-free versions of the various\n  WebRTC types.\n\n  ### Example Usage\n\n  If you wanted to get the native `RTCPeerConnection` prototype in any browser\n  you could do the following:\n\n  ```js\n  var detect = require('rtc-core/detect'); // also available in rtc/detect\n  var RTCPeerConnection = detect('RTCPeerConnection');\n  ```\n\n  This would provide whatever the browser prefixed version of the\n  RTCPeerConnection is available (`webkitRTCPeerConnection`,\n  `mozRTCPeerConnection`, etc).\n**/\nvar detect = module.exports = function(target, opts) {\n  var attach = (opts || {}).attach;\n  var prefixIdx;\n  var prefix;\n  var testName;\n  var hostObject = this || (typeof window != 'undefined' ? window : undefined);\n\n  // initialise to default prefixes\n  // (reverse order as we use a decrementing for loop)\n  var prefixes = ((opts || {}).prefixes || ['ms', 'o', 'moz', 'webkit']).concat('');\n\n  // if we have no host object, then abort\n  if (! hostObject) {\n    return;\n  }\n\n  // iterate through the prefixes and return the class if found in global\n  for (prefixIdx = prefixes.length; prefixIdx--; ) {\n    prefix = prefixes[prefixIdx];\n\n    // construct the test class name\n    // if we have a prefix ensure the target has an uppercase first character\n    // such that a test for getUserMedia would result in a\n    // search for webkitGetUserMedia\n    testName = prefix + (prefix ?\n                            target.charAt(0).toUpperCase() + target.slice(1) :\n                            target);\n\n    if (typeof hostObject[testName] != 'undefined') {\n      // update the last used prefix\n      detect.browser = detect.browser || prefix.toLowerCase();\n\n      if (attach) {\n         hostObject[target] = hostObject[testName];\n      }\n\n      return hostObject[testName];\n    }\n  }\n};\n\n// detect mozilla (yes, this feels dirty)\ndetect.moz = typeof navigator != 'undefined' && !!navigator.mozGetUserMedia;\n\n// set the browser and browser version\ndetect.browser = browser.name;\ndetect.browserVersion = detect.version = browser.version;\n","/home/travis/build/npmtest/node-npmtest-rtc/node_modules/rtc-capture/index.js":"var plugin = require('rtc-core/plugin');\nvar detect = require('rtc-core/detect');\n\n// patch navigator getUserMedia\nnavigator.getUserMedia = navigator.getUserMedia ||\n  detect.call(navigator, 'getUserMedia');\n\n/**\n  # rtc-capture\n\n  Roughly equivalent to the\n  [`getUserMedia`](https://www.npmjs.org/package/getusermedia) package but with\n  support for rtc.io plugins.\n\n  ## Example Usage\n\n  <<< examples/simple.js\n\n  ## Example with using Plugins\n\n  <<< examples/plugins.js\n\n  ## Reference\n\n  ### `capture(constraints, opts?, callback)`\n\n  Capture media with the supplied `constraints`.  If an `opts` argument is\n  supplied look for plugins that may change the behaviour of the capture\n  operation.\n\n**/\nmodule.exports = function(constraints, opts, callback) {\n  var pinst;\n\n  function handleCapture(stream) {\n    callback(null, stream);\n  }\n\n  if (typeof opts == 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  // see if we are using a plugin\n  pinst = plugin((opts || {}).plugins);\n  if (pinst) {\n    return pinst.init(opts, function(err) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (typeof navigator.getUserMedia != 'function') {\n        return callback(new Error('plugin does not support media capture'));\n      }\n\n      navigator.getUserMedia(constraints, handleCapture, callback);\n    });\n  }\n\n  if (typeof navigator.getUserMedia != 'function') {\n    return callback(new Error('getUserMedia not supported'));\n  }\n\n  navigator.getUserMedia(constraints, handleCapture, callback);\n};\n","/home/travis/build/npmtest/node-npmtest-rtc/node_modules/rtc/defaultconfig.js":"// a default configuration that is used by the rtc package\nmodule.exports = {\n  // simple constraints for defaults\n  constraints: {\n    video: true,\n    audio: true\n  },\n\n  // use the public development switchboard for signalling\n  signaller: 'https://switchboard.rtc.io/',\n\n  // no room is defined by default\n  // rtc-quickconnect will autogenerate using a location.hash\n  room: undefined,\n\n  // specify ice servers or a generator function to create ice servers\n  ice: [],\n\n  // any data channels that we want to create for the conference\n  // by default a chat channel is created, but other channels can be added also\n  // additionally options can be supplied to customize the data channel config\n  // see: <http://w3c.github.io/webrtc-pc/#idl-def-RTCDataChannelInit>\n  channels: {},\n\n  // the selector that will be used to identify the localvideo container\n  localContainer: '#l-video',\n\n  // the selector that will be used to identify the remotevideo container\n  remoteContainer: '#r-video',\n\n  // should we atempt to load any plugins?\n  plugins: [],\n\n  // common options overrides that are used across rtc.io packages\n  options: {}\n};\n"}